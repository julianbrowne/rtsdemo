In file included from ../src/bufferutil.cc:15:
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:244:13: error: no member named 'smalloc' in namespace 'node'
      node::smalloc::FreeCallback callback,
      ~~~~~~^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:259:26: error: no member named 'Use' in 'node::Buffer'
    return node::Buffer::Use(data, size);
           ~~~~~~~~~~~~~~^
../src/bufferutil.cc:37:10: error: no type named 'FunctionCallbackInfo' in namespace 'v8'
  static NAN_METHOD(New)
         ^~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:37: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                ~~~~^
../src/bufferutil.cc:37:10: error: expected ')'
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:57: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                                        ^
../src/bufferutil.cc:37:10: note: to match this '('
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:36: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                   ^
../src/bufferutil.cc:45:10: error: no type named 'FunctionCallbackInfo' in namespace 'v8'
  static NAN_METHOD(Merge)
         ^~~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:37: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                ~~~~^
../src/bufferutil.cc:45:10: error: expected ')'
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:57: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                                        ^
../src/bufferutil.cc:45:10: note: to match this '('
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:36: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                   ^
../src/bufferutil.cc:63:10: error: no type named 'FunctionCallbackInfo' in namespace 'v8'
  static NAN_METHOD(Unmask)
         ^~~~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:37: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                ~~~~^
../src/bufferutil.cc:63:10: error: expected ')'
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:57: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                                        ^
../src/bufferutil.cc:63:10: note: to match this '('
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:36: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                   ^
../src/bufferutil.cc:84:10: error: no type named 'FunctionCallbackInfo' in namespace 'v8'
  static NAN_METHOD(Mask)
         ^~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:37: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                ~~~~^
../src/bufferutil.cc:84:10: error: expected ')'
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:37: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                    ^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:143:57: note: expanded from macro '_NAN_METHOD_ARGS'
# define _NAN_METHOD_ARGS const v8::FunctionCallbackInfo<v8::Value>& args
                                                        ^
../src/bufferutil.cc:84:10: note: to match this '('
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:144:36: note: expanded from macro 'NAN_METHOD'
# define NAN_METHOD(name) void name(_NAN_METHOD_ARGS)
                                   ^
../src/bufferutil.cc:41:22: error: use of undeclared identifier 'args'; did you mean 'uv_process_options_s::args'?
    bufferUtil->Wrap(args.This());
                     ^~~~
                     uv_process_options_s::args
/Users/julian2/.node-gyp/0.11.2/deps/uv/include/uv.h:1324:10: note: 'uv_process_options_s::args' declared here
  char** args;
         ^
../src/bufferutil.cc:41:22: error: invalid use of member 'args' in static member function
    bufferUtil->Wrap(args.This());
                     ^~~~
../src/bufferutil.cc:42:5: error: use of undeclared identifier 'args'; did you mean 'uv_process_options_s::args'?
    NanReturnValue(args.This());
    ^
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:195:39: note: expanded from macro 'NanReturnValue'
# define NanReturnValue(value) return args.GetReturnValue().Set(value)
                                      ^
/Users/julian2/.node-gyp/0.11.2/deps/uv/include/uv.h:1324:10: note: 'uv_process_options_s::args' declared here
  char** args;
         ^
../src/bufferutil.cc:42:5: error: invalid use of member 'args' in static member function
    NanReturnValue(args.This());
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:195:39: note: expanded from macro 'NanReturnValue'
# define NanReturnValue(value) return args.GetReturnValue().Set(value)
                                      ^~~~
../src/bufferutil.cc:42:20: error: use of undeclared identifier 'args'; did you mean 'uv_process_options_s::args'?
    NanReturnValue(args.This());
                   ^~~~
                   uv_process_options_s::args
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:195:65: note: expanded from macro 'NanReturnValue'
# define NanReturnValue(value) return args.GetReturnValue().Set(value)
                                                                ^
/Users/julian2/.node-gyp/0.11.2/deps/uv/include/uv.h:1324:10: note: 'uv_process_options_s::args' declared here
  char** args;
         ^
../src/bufferutil.cc:42:20: error: invalid use of member 'args' in static member function
    NanReturnValue(args.This());
                   ^~~~
/usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:195:65: note: expanded from macro 'NanReturnValue'
# define NanReturnValue(value) return args.GetReturnValue().Set(value)
                                                                ^
../src/bufferutil.cc:48:31: error: use of undeclared identifier 'args'; did you mean 'uv_process_options_s::args'?
    Local<Object> bufferObj = args[0]->ToObject();
                              ^~~~
                              uv_process_options_s::args
/Users/julian2/.node-gyp/0.11.2/deps/uv/include/uv.h:1324:10: note: 'uv_process_options_s::args' declared here
  char** args;
         ^
../src/bufferutil.cc:48:31: error: invalid use of member 'args' in static member function
    Local<Object> bufferObj = args[0]->ToObject();
                              ^~~~
../src/bufferutil.cc:50:45: error: use of undeclared identifier 'args'; did you mean 'uv_process_options_s::args'?
    Local<Array> array = Local<Array>::Cast(args[1]);
                                            ^~~~
                                            uv_process_options_s::args
/Users/julian2/.node-gyp/0.11.2/deps/uv/include/uv.h:1324:10: note: 'uv_process_options_s::args' declared here
  char** args;
         ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
make: *** [Release/obj.target/bufferutil/src/bufferutil.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:267:23)
gyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:100:17)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:789:12)
gyp ERR! System Darwin 13.3.0
gyp ERR! command "node" "/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /usr/local/personal/rtsdemo/node_modules/socket.io/node_modules/engine.io/node_modules/ws
gyp ERR! node -v v0.11.2
gyp ERR! node-gyp -v v0.9.5
gyp ERR! not ok 
